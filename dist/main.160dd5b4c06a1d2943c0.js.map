{"version":3,"sources":["webpack:///main.160dd5b4c06a1d2943c0.js","webpack:///./src/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/api/userApi.js","webpack:///./src/api/baseUrl.js"],"names":["webpackJsonp","module","exports","__webpack_require__","global","_userApi","getUsers","then","result","usersBody","map","u","id","firstName","lastName","email","document","getElementById","innerHTML","join","deleteLinks","querySelectorAll","Array","from","link","onclick","e","ele","target","preventDefault","deleteUser","dataset","row","parentNode","removeChild","call","g","this","Function","eval","window","Object","defineProperty","value","undefined","_baseUrl","_baseUrl2","obj","__esModule","default","baseUrl","onSuccess","response","json","onError","error","console","log","get","url","fetch","del","request","Request","method","getBaseUrl","getQueryStringParameterByName","name","location","href","replace","regex","RegExp","results","exec","decodeURIComponent"],"mappings":"AAAAA,cAAc,IACP,CACA,CAED,SAAUC,EAAQC,EAASC,GAEjC,cAC4B,SAASC,GCPrCD,EAAA,EACA,IAAAE,GAAAF,EAAA,IAEA,EAAAE,EAAAC,YAAWC,KAAK,SAAAC,GACd,GAAIC,GAAYD,EAAOE,IACrB,SAAAC,GAAA,oDAE6BA,EAAEC,GAF/B,mDAGQD,EAAEC,GAHV,oBAIQD,EAAEE,UAJV,oBAKQF,EAAEG,SALV,oBAMQH,EAAEI,MANV,oBAUFX,GAAOY,SAASC,eAAe,SAASC,UAAYT,EAAUU,KAAK,GAEnE,IAAMC,GAAcJ,SAASK,iBAAiB,cAC9CC,OAAMC,KAAKH,EAAa,SAAAI,GACtBA,EAAKC,QAAU,SAAAC,GACb,GAAMC,GAAMD,EAAEE,MACdF,GAAEG,kBACF,EAAAxB,EAAAyB,YAAWH,EAAII,QAAQnB,GACvB,IAAMoB,GAAML,EAAIM,WAAWA,UAC3BD,GAAIC,WAAWC,YAAYF,UDaJG,KAAKjC,EAASC,EAAoB,KAIzD,SAAUF,EAAQC,GEzCxB,GAAAkC,EAGAA,GAAA,WACA,MAAAC,QAGA,KAEAD,KAAAE,SAAA,qBAAAC,MAAA,QACC,MAAAb,GAED,gBAAAc,UACAJ,EAAAI,QAOAvC,EAAAC,QAAAkC,GFgDM,SAAUnC,EAAQC,KAMlB,SAAUD,EAAQC,EAASC,GAEjC,YAGAsC,QAAOC,eAAexC,EAAS,cAC7ByC,OAAO,IAETzC,EAAQ4B,WAAa5B,EAAQI,aAAWsC,GGlFxCzC,EAAA,EACA,IAAA0C,GAAA1C,EAAA,GHuFI2C,EAEJ,SAAgCC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,IAFhDF,GGrFjCK,GAAU,EAAAJ,EAAAG,WACVE,EAAY,SAAAC,GAAA,MAAYA,GAASC,QACjCC,EAAU,SAAAC,GAAA,MAASC,SAAQC,IAAIF,IAC/BG,EAAM,SAAAC,GAAA,MAAOC,OAAMV,EAAUS,GAAKpD,KAAK4C,EAAWG,IAClDO,EAAM,SAAAF,GACV,GAAMG,GAAU,GAAIC,SAAQb,EAAUS,GACpCK,OAAQ,UAEV,OAAOJ,OAAME,GAASvD,KAAK4C,EAAWG,GAE3BhD,YAAW,iBAAMoD,GAAI,UACrB5B,aAAa,SAAAlB,GAAA,MAAMiD,YAAajD,KHwGvC,SAAUX,EAAQC,EAASC,GAEjC,YIvHe,SAAS8D,KACtB,MAAOC,GAA8B,cACjC,yBACA,IAGN,QAASA,GAA8BC,EAAMR,GACtCA,IAAKA,EAAMnB,OAAO4B,SAASC,MAChCF,EAAOA,EAAKG,QAAQ,SAAU,OAC9B,IAAIC,GAAQ,GAAIC,QAAO,OAASL,EAAO,qBACrCM,EAAUF,EAAMG,KAAKf,EACvB,OAAKc,GACAA,EAAQ,GACNE,mBAAmBF,EAAQ,GAAGH,QAAQ,MAAO,MAD5B,GADH,KJ+GvB7B,OAAOC,eAAexC,EAAS,cAC7ByC,OAAO,IAETzC,EAAQ+C,QI7HgBgB,KJ+IrB","file":"main.160dd5b4c06a1d2943c0.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\n__webpack_require__(4);\n\nvar _userApi = __webpack_require__(5);\n\n(0, _userApi.getUsers)().then(function (result) {\n  var usersBody = result.map(function (u) {\n    return '\\n    <tr>\\n      <td><a href=\"#\" data-id=\"' + u.id + '\" class=\"deleteUser\">Delete</a></td>\\n      <td>' + u.id + '</td>\\n      <td>' + u.firstName + '</td>\\n      <td>' + u.lastName + '</td>\\n      <td>' + u.email + '</td>\\n    </tr>';\n  });\n\n  global.document.getElementById('users').innerHTML = usersBody.join('');\n\n  var deleteLinks = document.querySelectorAll('.deleteUser');\n  Array.from(deleteLinks, function (link) {\n    link.onclick = function (e) {\n      var ele = e.target;\n      e.preventDefault();\n      (0, _userApi.deleteUser)(ele.dataset.id);\n      var row = ele.parentNode.parentNode; // tr\n      row.parentNode.removeChild(row);\n    };\n  });\n});\n\n/* eslint-disable no-console */\n// import numeral from 'numeral';\n// const value = numeral(1000).format('$0,0.00');\n// debugger\n// console.log(`I would pay ${value} for this course`);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteUser = exports.getUsers = undefined;\n\n__webpack_require__(0);\n\nvar _baseUrl = __webpack_require__(6);\n\nvar _baseUrl2 = _interopRequireDefault(_baseUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar baseUrl = (0, _baseUrl2.default)(); // let browser that hasn't supported fetch work with fetch\n\nvar onSuccess = function onSuccess(response) {\n  return response.json();\n};\nvar onError = function onError(error) {\n  return console.log(error);\n}; //eslint-disable-line no-console\nvar get = function get(url) {\n  return fetch(baseUrl + url).then(onSuccess, onError);\n};\nvar del = function del(url) {\n  var request = new Request(baseUrl + url, {\n    method: 'delete'\n  });\n  return fetch(request).then(onSuccess, onError);\n};\nvar getUsers = exports.getUsers = function getUsers() {\n  return get('users');\n};\nvar deleteUser = exports.deleteUser = function deleteUser(id) {\n  return del('users/' + id);\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getBaseUrl;\n/** this determines api address */\nfunction getBaseUrl() {\n  return getQueryStringParameterByName('useMockApi') ? 'http://localhost:3001/' // mockapi address\n  : '/'; // production api\n}\n\nfunction getQueryStringParameterByName(name, url) {\n  if (!url) url = window.location.href;\n  name = name.replace(/[[\\]]/g, '\\\\$&');\n  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n      results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return '';\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n\n/***/ })\n],[2]);\n\n\n// WEBPACK FOOTER //\n// main.160dd5b4c06a1d2943c0.js","import './index.css';\nimport { getUsers, deleteUser } from './api/userApi';\n\ngetUsers().then(result => {\n  let usersBody = result.map(\n    u => `\n    <tr>\n      <td><a href=\"#\" data-id=\"${u.id}\" class=\"deleteUser\">Delete</a></td>\n      <td>${u.id}</td>\n      <td>${u.firstName}</td>\n      <td>${u.lastName}</td>\n      <td>${u.email}</td>\n    </tr>`\n  );\n\n  global.document.getElementById('users').innerHTML = usersBody.join('');\n\n  const deleteLinks = document.querySelectorAll('.deleteUser');\n  Array.from(deleteLinks, link => {\n    link.onclick = e => {\n      const ele = e.target;\n      e.preventDefault();\n      deleteUser(ele.dataset.id);\n      const row = ele.parentNode.parentNode; // tr\n      row.parentNode.removeChild(row);\n    };\n  });\n});\n\n/* eslint-disable no-console */\n// import numeral from 'numeral';\n// const value = numeral(1000).format('$0,0.00');\n// debugger\n// console.log(`I would pay ${value} for this course`);\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 3\n// module chunks = 0","import 'whatwg-fetch'; // let browser that hasn't supported fetch work with fetch\nimport getBaseUrl from './baseUrl';\n\nconst baseUrl = getBaseUrl();\nconst onSuccess = response => response.json();\nconst onError = error => console.log(error); //eslint-disable-line no-console\nconst get = url => fetch(baseUrl + url).then(onSuccess, onError);\nconst del = url => {\n  const request = new Request(baseUrl + url, {\n    method: 'delete'\n  });\n  return fetch(request).then(onSuccess, onError);\n};\nexport const getUsers = () => get('users');\nexport const deleteUser = id => del(`users/${id}`);\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/userApi.js","/** this determines api address */\nexport default function getBaseUrl() {\n  return getQueryStringParameterByName('useMockApi')\n    ? 'http://localhost:3001/'  // mockapi address\n    : '/';   // production api\n}\n\nfunction getQueryStringParameterByName(name, url) {\n  if (!url) url = window.location.href;\n  name = name.replace(/[[\\]]/g, '\\\\$&');\n  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n    results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return '';\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/baseUrl.js"],"sourceRoot":""}